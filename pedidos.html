<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendas | Digitaliza Menu</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root { --cor-primaria: #2563eb; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #f8fafc; }
        
        /* Layout unificado */
        @media (min-width: 768px) { body { padding-left: 280px; } }

        .bg-brand { background-color: var(--cor-primaria) !important; }
        .text-brand { color: var(--cor-primaria) !important; }
        .nav-item-active { background-color: var(--cor-primaria) !important; color: white !important; box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.2); }
        
        i[data-lucide] { stroke-width: 2.5px; }
        .hide-scroll::-webkit-scrollbar { display: none; }
        
        /* Estilo das Colunas Kanban */
        .kanban-column { min-height: calc(100vh - 250px); }
        .card-pedido { transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .card-pedido:hover { transform: translateY(-2px); shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1); }
    </style>
</head>

<body class="text-slate-900">

    <aside class="hidden md:flex fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 flex-col p-8 z-50">
        <div class="flex items-center gap-3 mb-12">
            <div class="w-10 h-10 bg-brand rounded-xl flex items-center justify-center text-white shadow-lg">
                <i data-lucide="receipt" class="w-6 h-6"></i>
            </div>
            <div class="flex flex-col">
                <h2 id="sideNomeNegocio" class="text-lg font-extrabold tracking-tight text-slate-800 uppercase italic leading-tight">Carregando...</h2>
                <span class="text-[10px] font-bold text-slate-400 tracking-widest uppercase">Gestão Operacional</span>
            </div>
        </div>

        <nav class="flex-1 space-y-2">
            <a href="dashboard.html" class="flex items-center gap-3 p-4 rounded-2xl text-slate-400 hover:text-brand hover:bg-blue-50 transition-all font-semibold"><i data-lucide="home" class="w-5 h-5"></i> Início</a>
            <a href="estoque.html" class="flex items-center gap-3 p-4 rounded-2xl text-slate-400 hover:text-brand hover:bg-blue-50 transition-all font-semibold"><i data-lucide="boxes" class="w-5 h-5"></i> Estoque</a>
            <a href="produtos.html" class="flex items-center gap-3 p-4 rounded-2xl text-slate-400 hover:text-brand hover:bg-blue-50 transition-all font-semibold"><i data-lucide="shopping-bag" class="w-5 h-5"></i> Produtos</a>
            <a href="pedidos.html" class="flex items-center gap-3 p-4 rounded-2xl nav-item-active font-bold transition-all"><i data-lucide="receipt" class="w-5 h-5"></i> Vendas</a>
            <a href="perfil.html" class="flex items-center gap-3 p-4 rounded-2xl text-slate-400 hover:text-brand hover:bg-blue-50 transition-all font-semibold"><i data-lucide="settings" class="w-5 h-5"></i> Perfil</a>
        </nav>

        <button id="btnSairDesktop" class="flex items-center gap-3 p-4 rounded-2xl text-red-400 hover:bg-red-50 font-bold transition-all mt-auto uppercase text-xs tracking-widest">
            <i data-lucide="log-out" class="w-4 h-4"></i> Sair
        </button>
    </aside>

    <nav class="md:hidden bg-white/80 backdrop-blur-md sticky top-0 z-40 p-5 flex justify-between items-center border-b border-slate-100">
        <h2 class="text-lg font-black text-slate-800 uppercase italic">Vendas</h2>
        <div class="flex items-center gap-2 bg-orange-50 px-3 py-1 rounded-full">
            <span class="relative flex h-2 w-2">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span>
            </span>
            <span class="text-[9px] font-black text-orange-700 uppercase tracking-widest">Live</span>
        </div>
    </nav>

    <main class="p-5 md:p-10">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6">
            <div>
                <p class="text-xs font-black text-brand uppercase tracking-widest mb-1 flex items-center gap-2">
                    Monitor de Operação
                </p>
                <h1 class="text-4xl font-extrabold text-slate-900 tracking-tighter">Fluxo de Pedidos</h1>
            </div>
            <button id="abrirModalPedido" class="bg-brand text-white px-8 py-4 rounded-2xl font-black shadow-xl shadow-blue-500/20 hover:scale-[1.02] transition-all flex items-center gap-3 uppercase text-xs tracking-widest">
                <i data-lucide="plus-circle" class="w-5 h-5"></i> Nova Venda Balcão
            </button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            
            <div class="flex flex-col gap-4">
                <div class="flex items-center justify-between px-2">
                    <h2 class="font-black text-[11px] uppercase text-slate-400 tracking-[0.2em]">Pendentes (<span id="count-novo">0</span>)</h2>
                    <div class="h-1 w-12 bg-amber-400 rounded-full"></div>
                </div>
                <div id="lista-novo" class="kanban-column space-y-4">
                    </div>
            </div>

            <div class="flex flex-col gap-4">
                <div class="flex items-center justify-between px-2">
                    <h2 class="font-black text-[11px] uppercase text-slate-400 tracking-[0.2em]">Em Cozinha (<span id="count-preparo">0</span>)</h2>
                    <div class="h-1 w-12 bg-blue-500 rounded-full"></div>
                </div>
                <div id="lista-preparo" class="kanban-column space-y-4">
                    </div>
            </div>

            <div class="flex flex-col gap-4">
                <div class="flex items-center justify-between px-2">
                    <h2 class="font-black text-[11px] uppercase text-slate-400 tracking-[0.2em]">Concluídos / Rota (<span id="count-concluido">0</span>)</h2>
                    <div class="h-1 w-12 bg-green-500 rounded-full"></div>
                </div>
                <div id="lista-concluido" class="kanban-column space-y-4">
                    </div>
            </div>

        </div>
    </main>

    <div class="md:hidden fixed bottom-6 left-6 right-6 bg-slate-900/95 backdrop-blur-xl rounded-[2.5rem] p-4 flex justify-around items-center z-50 shadow-2xl border border-white/10">
        <a href="dashboard.html" class="p-3 text-slate-400"><i data-lucide="home" class="w-6 h-6"></i></a>
        <a href="estoque.html" class="p-3 text-slate-400"><i data-lucide="boxes" class="w-6 h-6"></i></a>
        <a href="pedidos.html" class="p-4 bg-brand rounded-2xl text-white shadow-lg"><i data-lucide="receipt" class="w-6 h-6"></i></a>
        <a href="perfil.html" class="p-3 text-slate-400"><i data-lucide="settings" class="w-6 h-6"></i></a>
    </div>

    <div id="modalPedido" class="hidden fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-end md:items-center justify-center p-0 md:p-4 z-[100]">
        <div class="bg-white p-8 md:p-10 rounded-t-[3rem] md:rounded-[3rem] w-full max-w-lg shadow-2xl max-h-[92vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-2xl font-black text-slate-800 tracking-tighter italic uppercase">Venda Balcão</h3>
                <button id="fecharModalPedido" class="text-slate-300 hover:text-red-500"><i data-lucide="x-circle" class="w-8 h-8"></i></button>
            </div>
            <form id="formPedido" class="space-y-6">
                <input type="text" id="cliente" placeholder="Nome do Cliente" class="w-full p-5 bg-slate-50 border-none rounded-2xl outline-none font-bold">
                <select id="selectProduto" class="w-full p-5 bg-slate-50 border-none rounded-2xl outline-none font-bold appearance-none">
                    <option value="">Adicionar Produto...</option>
                </select>
                <div id="itensSelecionados" class="space-y-3 max-h-48 overflow-y-auto custom-scroll"></div>
                <div class="bg-slate-900 p-6 rounded-3xl flex justify-between items-center">
                    <span class="text-[10px] font-black text-slate-400 uppercase">Total</span>
                    <span id="valorTotalPedido" class="text-2xl font-black text-white">R$ 0,00</span>
                </div>
                <button type="submit" class="w-full bg-brand text-white py-5 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg">Finalizar Pedido</button>
            </form>
        </div>
    </div>

    <script>
        lucide.createIcons();
    </script>
    <script type="module" src="./src/pedidos.js"></script>
</body>
</html>
